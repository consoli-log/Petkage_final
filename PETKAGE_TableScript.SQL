-- PETKAGE 계정 생성
-- CREATE USER PETKAGE IDENTIFIED BY PETKAGE;
-- GRANT RESOURCE, CONNECT TO PETKAGE;

------------------------------------------------
-------------- MEMBER 관련 테이블 --------------
------------------------------------------------
CREATE TABLE MEMBER ( 
	MEM_NO NUMBER,
	MEM_ID VARCHAR2(20) NOT NULL,
	MEM_PWD VARCHAR2(100) NOT NULL,
	MEM_NAME VARCHAR2(20) NOT NULL,
	MEM_PHONE VARCHAR2(20) NOT NULL,
    MEM_ZONECODE VARCHAR2(20) NOT NULL,
	MEM_ADDRESS VARCHAR2(200) NOT NULL,
    MEM_SUBADDRESS VARCHAR2(200) NOT NULL,
	MEM_EMAIL VARCHAR2(30) NOT NULL,
	MEM_REPORT NUMBER DEFAULT 0,
	MEM_ROLE VARCHAR2(20) DEFAULT 'ROLE_USER',
    MEM_POINT NUMBER DEFAULT 0,
	MEM_STATUS VARCHAR2(1) DEFAULT 'Y' CHECK(MEM_STATUS IN('Y', 'N')),
    MEM_ENROLLDATE DATE DEFAULT SYSDATE,
    MEM_PETYN VARCHAR2(1) DEFAULT 'N', 
    MEM_FINDNUM NUMBER NULL,
    MEM_ENROLLTYPE VARCHAR2(20) DEFAULT 'PETKAGE',
    
    CONSTRAINT MEMBER_MEM_NO_PK PRIMARY KEY(MEM_NO),
    CONSTRAINT MEMBER_MEM_ID_UQ UNIQUE(MEM_ID)
);

COMMENT ON COLUMN MEMBER.MEM_NO IS '회원 번호';
COMMENT ON COLUMN MEMBER.MEM_ID IS '회원 아이디';
COMMENT ON COLUMN MEMBER.MEM_PWD IS '비밀번호';
COMMENT ON COLUMN MEMBER.MEM_NAME IS '이름';
COMMENT ON COLUMN MEMBER.MEM_PHONE IS '연락처';
COMMENT ON COLUMN MEMBER.MEM_ZONECODE IS '우편번호';
COMMENT ON COLUMN MEMBER.MEM_ADDRESS IS '주소';
COMMENT ON COLUMN MEMBER.MEM_SUBADDRESS IS '나머지주소';
COMMENT ON COLUMN MEMBER.MEM_EMAIL IS '이메일';
COMMENT ON COLUMN MEMBER.MEM_POINT IS '포인트';
COMMENT ON COLUMN MEMBER.MEM_REPORT IS '신고수';
COMMENT ON COLUMN MEMBER.MEM_ROLE IS '역할(ROLE_USER/ROLE_SELLER/ROLE_ADMIN)';
COMMENT ON COLUMN MEMBER.MEM_STATUS IS '회원 상태(Y/N)';
COMMENT ON COLUMN MEMBER.MEM_ENROLLDATE IS '가입일';
COMMENT ON COLUMN MEMBER.MEM_PETYN IS '반려동물 유무';
COMMENT ON COLUMN MEMBER.MEM_FINDNUM IS '인증번호';
COMMENT ON COLUMN MEMBER.MEM_ENROLLTYPE IS '가입타입';

CREATE SEQUENCE SEQ_MEM_NO;

------------------------------------------------
-------------- SELLER 관련 테이블 --------------
------------------------------------------------

CREATE TABLE SELLER (
	SEL_NO NUMBER NOT NULL,
    MEM_NO NUMBER NOT NULL,
	SEL_NAME VARCHAR2(50) NOT NULL,
	SEL_LICENSE NUMBER	NOT NULL,
    
	CONSTRAINT SELLER_SEL_NO_PK PRIMARY KEY(SEL_NO),
	CONSTRAINT SELLER_MEM_NO_FK FOREIGN KEY(MEM_NO) REFERENCES MEMBER(MEM_NO) ON DELETE CASCADE
);


CREATE SEQUENCE SEQ_SEL_NO;

COMMENT ON COLUMN SELLER.SEL_NO IS '판매자 번호';
COMMENT ON COLUMN SELLER.MEM_NO IS '회원 번호';
COMMENT ON COLUMN SELLER.SEL_NAME IS '상점명';
COMMENT ON COLUMN SELLER.SEL_LICENSE IS '사업자 등록 번호';


-- 테스트 판매자 삽입 
INSERT INTO SELLER (
    SEL_NO,
    SHOP_NAME,
	SHOP_LICENSE
) VALUES (
	'',
	'',
	''
);

------------------------------------------------
---------------- PET 관련 테이블 ---------------
------------------------------------------------

CREATE TABLE PET (
	PET_NO NUMBER NOT NULL,
	MEM_NO NUMBER NOT NULL,
	PET_NAME VARCHAR2(20) NULL,
	PET_TYPE VARCHAR2(1) NULL CHECK(PET_TYPE IN('D', 'C')),
    PET_WEIGHT VARCHAR2(1) NULL CHECK(PET_WEIGHT IN('S', 'M', 'L')),
	PET_INFO VARCHAR2(1000),
	PET_STATUS VARCHAR2(1) DEFAULT 'Y' CHECK(PET_STATUS IN('Y', 'N')),
    
	CONSTRAINT PET_PET_NO_PK PRIMARY KEY(PET_NO),
	CONSTRAINT PET_MEM_NO_FK FOREIGN KEY(MEM_NO) REFERENCES MEMBER(MEM_NO) ON DELETE CASCADE
);

CREATE SEQUENCE SEQ_PET_NO;

COMMENT ON COLUMN PET.PET_NO IS '펫 번호';
COMMENT ON COLUMN PET.MEM_NO IS '회원 번호';
COMMENT ON COLUMN PET.PET_NAME IS '펫 이름';
COMMENT ON COLUMN PET.PET_INFO IS '펫 정보';
COMMENT ON COLUMN PET.PET_TYPE IS '펫 타입(D/C)';
COMMENT ON COLUMN PET.PET_WEIGHT IS '펫 몸무게(S/M/L)';
COMMENT ON COLUMN PET.PET_STATUS IS '펫 상태(Y/N)';

-- 테스트 펫 삽입 
INSERT INTO PET (
    PET_NO,
	MEM_NO,
	PET_NAME,
	PET_INFO,
	PET_TYPE,
	PET_WEIGHT,
	PET_STATUS
) VALUES (
	SEQ_PET_NO.NEXTVAL,
	'',
	'',
	'',
	'',
	'',
	DEFAULT
);



------------------------------------------------
-------------- PRODUCT 관련 테이블 -------------
------------------------------------------------

CREATE TABLE PRODUCT (
	PRO_NO NUMBER NOT NULL,
	PRO_SELLER_NO NUMBER NOT NULL,
	PRO_NAME VARCHAR2(100) NOT NULL,
	PRO_CONTENT	VARCHAR2(4000) NOT NULL,
	PRO_IMG	VARCHAR2(1000) NOT NULL,
	PRO_PRICE NUMBER NOT NULL,
	PRO_QUANTITY NUMBER	DEFAULT 1,
	PRO_DATE DATE DEFAULT SYSDATE,
	PRO_STATUS VARCHAR2(1) DEFAULT 'Y' CHECK(PRO_STATUS IN('Y', 'N')),
	PRO_REPORT NUMBER DEFAULT 0,
	CONSTRAINT PRODUCT_PRO_NO_PK PRIMARY KEY(PRO_NO),
    CONSTRAINT PRODUCT_PRO_SELLER_NO_FK FOREIGN KEY(PRO_SELLER_NO) REFERENCES MEMBER(MEM_NO)
);

COMMENT ON COLUMN PRODUCT.PRO_NO IS '상품 번호';
COMMENT ON COLUMN PRODUCT.PRO_SELLER_NO IS '판매자 번호';
COMMENT ON COLUMN PRODUCT.PRO_NAME IS '상품명';
COMMENT ON COLUMN PRODUCT.PRO_CONTENT IS '상품 설명';
COMMENT ON COLUMN PRODUCT.PRO_IMG IS '상품 이미지';
COMMENT ON COLUMN PRODUCT.PRO_PRICE IS '상품 가격';
COMMENT ON COLUMN PRODUCT.PRO_QUANTITY IS '상품 수량';
COMMENT ON COLUMN PRODUCT.PRO_DATE IS '등록일자';
COMMENT ON COLUMN PRODUCT.PRO_STATUS IS '상품 상태(Y/N)';
COMMENT ON COLUMN PRODUCT.PRO_REPORT IS '신고수';

CREATE SEQUENCE SEQ_PRO_NO;

-- 테스트 상품 삽입
INSERT INTO PRODUCT (
    PRO_NO,
	PRO_SELLER_NO,
	PRO_NAME,
	PRO_CONTENT,	
	PRO_IMG,
	PRO_PRICE,
	PRO_QUANTITY,
	PRO_DATE,
	PRO_STATUS,
	PRO_REPORT
) VALUES (
    SEQ_PRO_NO.NEXTVAL,
    '',
    '',
    '',
    '',
    '',
    '',
    DEFAULT,
    DEFAULT,
    DEFAULT,
    DEFAULT
);

------------------------------------------------
-------------- REVIEW 관련 테이블 --------------
------------------------------------------------

CREATE TABLE REVIEW (
	REV_NO NUMBER,
	REV_SPOT_NO NUMBER,
	REV_PRO_NO NUMBER,
	REV_WRITER_NO NUMBER NOT NULL,
	REV_TYPE	VARCHAR2(20),
	REV_TITLE VARCHAR2(100) NOT NULL,
	REV_CONTENT VARCHAR2(4000) NOT NULL,
	REV_IMG VARCHAR2(1000),
	REV_DATE	DATE DEFAULT SYSDATE,
	REV_SCORE NUMBER DEFAULT 0,
	REV_RECOMMEND NUMBER DEFAULT 0,
	REV_STATUS VARCHAR2(1) DEFAULT 'Y' CHECK(REV_STATUS IN('Y', 'N')),
	REV_REPORT NUMBER DEFAULT 0,
    
	CONSTRAINT REV_NO_PK PRIMARY KEY(REV_NO),
    CONSTRAINT REV_SPOT_NO_FK FOREIGN KEY(REV_SPOT_NO) REFERENCES WHEREWEGO(SPOT_NO),
    CONSTRAINT REV_PRO_NO_FK FOREIGN KEY(REV_PRO_NO) REFERENCES PRODUCT(PRO_NO),
    CONSTRAINT REV_WRITER_NO_FK FOREIGN KEY(REV_WRITER_NO) REFERENCES MEMBER(MEM_NO) 
    
);

COMMENT ON COLUMN REVIEW.REV_NO IS '리뷰 번호';
COMMENT ON COLUMN REVIEW.REV_SPOT_NO IS '어디가지 번호';
COMMENT ON COLUMN REVIEW.REV_PRO_NO IS '상품 번호';
COMMENT ON COLUMN REVIEW.REV_WRITER_NO IS '작성자 번호';
COMMENT ON COLUMN REVIEW.REV_TYPE IS '리뷰 타입(어디가지/상품)';
COMMENT ON COLUMN REVIEW.REV_TITLE IS '제목';
COMMENT ON COLUMN REVIEW.REV_CONTENT IS '내용';
COMMENT ON COLUMN REVIEW.REV_DATE IS '작성일자';
COMMENT ON COLUMN REVIEW.REV_IMG IS '첨부 이미지';
COMMENT ON COLUMN REVIEW.REV_SCORE IS '별점(1/2/3/4/5)';
COMMENT ON COLUMN REVIEW.REV_RECOMMEND IS '추천수';
COMMENT ON COLUMN REVIEW.REV_STATUS IS '리뷰 상태(Y/N)';
COMMENT ON COLUMN REVIEW.REV_REPORT IS '신고수';

CREATE SEQUENCE SEQ_REV_NO;

-- 테스트 리뷰 삽입
INSERT INTO REVIEW (
    REV_NO,
	REV_SPOT_NO,
	REV_PRO_NO,
	REV_WRITER_NO,
	REV_TYPE,
	REV_TITLE,
	REV_CONTENT,
	REV_IMG,
	REV_DATE,
	REV_SCORE,
	REV_RECOMMEND,
	REV_STATUS,
	REV_REPORT
) VALUES (
	SEQ_REVIEW_NO.NEXTVAL,
	'',
	'',
	'',
	'',
	'',
	'',
	'',
	DEFAULT,
	DEFAULT,
	DEFAULT,
	DEFAULT,
	DEFAULT
);

------------------------------------------------
--------------- BRD_COMMENT 관련 테이블 --------------
------------------------------------------------

CREATE TABLE BRD_COMMENT (
	CMT_NO NUMBER,
	CMT_BRD_NO NUMBER NOT NULL,
	CMT_WRITER_NO NUMBER NOT NULL,
	CMT_CONTENT VARCHAR2(2000) NOT NULL,
	CMT_CREATE_DATE DATE DEFAULT SYSDATE,
	CMT_MODIFY_DATE DATE,
	CMT_STATUS VARCHAR2(1) DEFAULT 'Y' CHECK(CMT_STATUS IN('Y', 'N')),
	CMT_REPORT NUMBER DEFAULT 0,
	CONSTRAINT CMT_NO_PK PRIMARY KEY(CMT_NO),
    CONSTRAINT CMT_BRD_NO_FK FOREIGN KEY(CMT_BRD_NO) REFERENCES BOARD(BRD_NO),
    CONSTRAINT CMT_WRITER_NO_FK FOREIGN KEY(CMT_WRITER_NO) REFERENCES MEMBER(MEM_NO)
);

COMMENT ON COLUMN BRD_COMMENT.CMT_NO IS '댓글 번호';
COMMENT ON COLUMN BRD_COMMENT.CMT_BRD_NO IS '게시글 번호';
COMMENT ON COLUMN BRD_COMMENT.CMT_WRITER_NO IS '작성자 번호';
COMMENT ON COLUMN BRD_COMMENT.CMT_CONTENT IS '내용';
COMMENT ON COLUMN BRD_COMMENT.CMT_CREATE_DATE IS '작성일자';
COMMENT ON COLUMN BRD_COMMENT.CMT_MODIFY_DATE IS '수정일자';
COMMENT ON COLUMN BRD_COMMENT.CMT_STATUS IS '리뷰 상태(Y/N)';
COMMENT ON COLUMN BRD_COMMENT.CMT_REPORT IS '신고수';

CREATE SEQUENCE SEQ_CMT_NO;

-- 테스트 댓글 삽입
INSERT INTO BRD_COMMENT (
    CMT_NO,
	CMT_BRD_NO,
	CMT_WRITER_NO,
	CMT_CONTENT,
	CMT_CREATE_DATE,
	CMT_MODIFY_DATE,
	CMT_STATUS,
	CMT_REPORT
) VALUES (
	SEQ_CMT_NO.NEXTVAL,
	1,
	1,
	'댓글 테스트',
	DEFAULT,
	'',
	DEFAULT,
	DEFAULT
);

------------------------------------------------
--------------- ORDER 관련 테이블 --------------
------------------------------------------------

CREATE TABLE ORDER (
	O_NO NUMBER,
	O_PRO_NO NUMBER	NOT NULL,
	O_M_NO NUMBER NOT NULL,
	O_DATE DATE DEFAULT SYSDATE,
	O_STATUS VARCHAR2(20) DEFAULT '상품 준비중',
	O_PUR_STATUS VARCHAR2(20) DEFAULT '입금 전',
	O_CS_STATUS VARCHAR2(20),
	O_PRO_PRICE NUMBER	NOT NULL,
	O_PRO_POINT NUMBER,
	-- O_DELIVERY_FEE NUMBER DEFAULT 3000, 주문내역에는 필요 없을 거 같은데
	CONSTRAINT REPLY_RP_NO_PK PRIMARY KEY(RP_NO),
    CONSTRAINT REPLY_RP_B_NO_FK FOREIGN KEY(RP_B_NO) REFERENCES BOARD(B_NO),
    CONSTRAINT REPLY_RP_WRITER_NO_FK FOREIGN KEY(RP_WRITER_NO) REFERENCES MEMBER(M_NO)
);

COMMENT ON COLUMN ORDER.O_NO IS '주문 번호';
COMMENT ON COLUMN ORDER.O_PRO_NO IS '상품 번호';
COMMENT ON COLUMN ORDER.O_M_NO IS '회원 번호';
COMMENT ON COLUMN ORDER.O_DATE IS '주문일자';
COMMENT ON COLUMN ORDER.O_STATUS IS '주문 상태(상품 준비중/배송 준비중/배송대기/배송중/배송 완료)';
COMMENT ON COLUMN ORDER.O_PUR_STATUS IS '결제 상태(입금 전/입금대기/입금완료(수동)/입금완료(자동)/결제완료)';
COMMENT ON COLUMN ORDER.O_CS_STATUS IS 'CS 상태(상품취소/교환/반품/환불)';
COMMENT ON COLUMN ORDER.O_PRO_PRICE IS '주문 상품 금액';
COMMENT ON COLUMN ORDER.O_PRO_POINT IS '상품 포인트';

CREATE SEQUENCE SEQ_ORDER_NO;

-- 테스트 주문 삽입
INSERT INTO ORDER (
    O_NO,
	O_PRO_NO,
	O_M_NO,
	O_DATE, 
	O_STATUS,
	O_PUR_STATUS,
	O_CS_STATUS, 
	O_PRO_PRICE, 
	O_PRO_POINT, 
) VALUES (
	SEQ_ORDER_NO.NEXTVAL,
	'',
	'',
	DEFAULT,
	DEFAULT,
	DEFAULT,
	'',
	'',
	''
);

------------------------------------------------
------------- PAYMENT 관련 테이블 -------------
------------------------------------------------

CREATE TABLE PAYMENT (
	PAY_NO NUMBER,
	PAY_MEM_NO NUMBER NOT NULL,
	PAY_ORDER_NO NUMBER	NOT NULL,
	PAY_METHOD VARCHAR(20) NOT NULL,
	PAY_DATE DATE DEFAULT SYSDATE,
	PAY_PRICE NUMBER NOT NULL,
	PAY_NAME VARCHAR(20),
	PAY_BANK VARCHAR(20),
	CONSTRAINT PAY_NO_PK PRIMARY KEY(PAY_NO),
    CONSTRAINT PAY_MEM_NO_FK FOREIGN KEY(PAY_MEM_NO) REFERENCES MEMBER(MEM_NO)
);

COMMENT ON COLUMN PAYMENT.PAY_NO IS '결제 번호';
COMMENT ON COLUMN PAYMENT.PAY_MEM_NO IS '구매자 번호';
COMMENT ON COLUMN PAYMENT.PAY_ORDER_NO IS '주문 번호';
COMMENT ON COLUMN PAYMENT.PAY_METHOD IS '결제 수단';
COMMENT ON COLUMN PAYMENT.PAY_DATE IS '결제 일자';
COMMENT ON COLUMN PAYMENT.PAY_PRICE IS '결제 금액';
COMMENT ON COLUMN PAYMENT.PAY_NAME IS '입금자명';
COMMENT ON COLUMN PAYMENT.PAY_BANK IS '입금 은행';

CREATE SEQUENCE SEQ_PAY_NO;

-- 테스트 결제 삽입
INSERT INTO PAYMENT (
    PAY_NO,
	PAY_M_NO,
	PAY_ORDER_NO,
	PAY_METHODS,
	PAY_DATE,
	PAY_FINAL_PRICE,
	PAY_ADD_PRICE,
	PAY_PRICE,
	PAY_NAME,
	PAY_BANK
) VALUES (
	SEQ_PAY_NO.NEXTVAL,
	'',
	'',
	'',
	DEFAULT,
	'',
	'',
	'',
	'',
	''
);

------------------------------------------------
--------------- CART 관련 테이블 ---------------
------------------------------------------------

CREATE TABLE CART (
	CART_MEM_NO NUMBER NOT NULL,
	CART_PRO_NO NUMBER NOT NULL,
	CONSTRAINT CART_MEM_NO_FK FOREIGN KEY(CART_MEM_NO) REFERENCES MEMBER(MEM_NO),
    CONSTRAINT CART_PRO_NO_FK FOREIGN KEY(CART_PRO_NO) REFERENCES PRODUCT(PRO_NO)
);

COMMENT ON COLUMN CART.CART_MEM_NO IS '구매자 번호';
COMMENT ON COLUMN CART.CART_PRO_NO IS '상품 번호';

-- 테스트 장바구니 삽입
INSERT INTO CART (
    CART_MEM_NO,
	CART_PRO_NO
) VALUES (
	1,
	1
);

------------------------------------------------
--------------- POINT 관련 테이블 --------------
------------------------------------------------
DROP TABLE POINT;
CREATE TABLE POINT (
	PNT_NO NUMBER,
	PNT_MEM_NO NUMBER NOT NULL,
	PNT_CUR NUMBER NULL,
	PNT_ROUTE VARCHAR2(1000), -- 경로 정하기
	PNT_DATE DATE DEFAULT SYSDATE,
	PNT_IN_OUT NUMBER(5),
	CONSTRAINT PNT_NO_PK PRIMARY KEY(PNT_NO),
	CONSTRAINT PNT_MEM_NO_FK FOREIGN KEY(PNT_MEM_NO) REFERENCES MEMBER(MEM_NO)
);

COMMENT ON COLUMN POINT.PNT_NO IS '포인트 적립 번호';
COMMENT ON COLUMN POINT.PNT_MEM_NO IS '회원 번호';
COMMENT ON COLUMN POINT.PNT_CUR IS '현재 포인트';
COMMENT ON COLUMN POINT.PNT_ROUTE IS '포인트 사용/획득 경로';
COMMENT ON COLUMN POINT.PNT_DATE IS '포인트 사용/획득 일자';
COMMENT ON COLUMN POINT.PNT_IN_OUT IS '포인트 증감(PLUS/MINUS)';

CREATE SEQUENCE SEQ_PNT_NO;

-- 테스트 포인트 삽입
INSERT INTO POINT (
    PNT_NO,
	PNT_MEM_NO,
	PNT_CUR,
	PNT_ROUTE,
	PNT_DATE,
	PNT_IN_OUT
) VALUES (
	SEQ_PNT_NO.NEXTVAL,
	1,
	1000,
	'상품 결제',
	DEFAULT,
	1000
);

------------------------------------------------
--------------- LIKES 관련 테이블 ---------------
------------------------------------------------

CREATE TABLE LIKES (
	LIKE_NO NUMBER,
	LIKE_MEM_NO NUMBER,
	LIKE_BRD_NO NUMBER,
	CONSTRAINT LIKE_MEM_NO_FK FOREIGN KEY(LIKE_MEM_NO) REFERENCES MEMBER(MEM_NO),
	CONSTRAINT LIKE_BRD_NO_FK FOREIGN KEY(LIKE_BRD_NO) REFERENCES BOARD(BRD_NO)
);

COMMENT ON COLUMN LIKES.LIKE_NO IS '찜 번호';
COMMENT ON COLUMN LIKES.LIKE_MEM_NO IS '회원 번호';
COMMENT ON COLUMN LIKES.LIKE_BRD_NO IS '게시글 번호';

CREATE SEQUENCE SEQ_LIKES_NO;

-- 테스트 찜 삽입
INSERT INTO LIKES (
    LIKE_NO,
	LIKE_MEM_NO,
	LIKE_BRD_NO
) VALUES (
	SEQ_LIKES_NO.NEXTVAL,
	1,
	1
);

------------------------------------------------
--------------- FOOD 관련 테이블 ---------------
------------------------------------------------

CREATE TABLE FOOD (
	FOOD_NO NUMBER,
	FOOD_NAME VARCHAR2(20) NOT NULL,
	FOOD_CONTENT VARCHAR2(1000) NOT NULL,
	FOOD_IMG VARCHAR2(1000), -- 이미지 뺄까
	FOOD_PET_TYPE VARCHAR2(1) NOT NULL CHECK(FOOD_PET_TYPE IN('D', 'C')),
	FOOD_OR VARCHAR2(1) NOT NULL CHECK(FOOD_OR IN('O', 'X')),
	CONSTRAINT FOOD_NO_PK PRIMARY KEY(FOOD_NO)
);

COMMENT ON COLUMN FOOD.FOOD_NO IS '식품 번호';
COMMENT ON COLUMN FOOD.FOOD_NAME IS '식품명';
COMMENT ON COLUMN FOOD.FOOD_CONTENT IS '식품 설명';
COMMENT ON COLUMN FOOD.FOOD_IMG IS '이미지';
COMMENT ON COLUMN FOOD.FOOD_PET_TYPE IS '펫 타입(D/C)';
COMMENT ON COLUMN FOOD.FOOD_OR IS '가능 여부(O/X)';

CREATE SEQUENCE SEQ_FOOD_NO;

-- 테스트 식품 삽입
INSERT INTO FOOD (
    FOOD_NO,
	FOOD_NAME,
	FOOD_CONTENT,
	FOOD_IMG,
	FOOD_PET_TYPE,
	FOOD_OR
) VALUES (
	SEQ_FOOD_NO.NEXTVAL,
	'과일씨',
	'과일씨, 잎, 줄기는 강아지에게 중독증세, 소화불량을 일으킬 수 있습니다',
	'',
	'D',
	'X'
);

------------------------------------------------
------------- CALENDAR 관련 테이블 -------------
------------------------------------------------

CREATE TABLE CALENDAR (
	CAL_NO NUMBER,
	CAL_MEM_NO NUMBER NOT NULL,
	CAL_TITLE VARCHAR2(100)	NOT NULL,
	CAL_CONTENT	VARCHAR2(1000) NOT NULL,
	CAL_DATE DATE DEFAULT SYSDATE,
	CONSTRAINT CAL_NO_PK PRIMARY KEY(CAL_NO),
	CONSTRAINT CAL_MEM_NO_FK FOREIGN KEY(CAL_MEM_NO) REFERENCES MEMBER(MEM_NO)
);

COMMENT ON COLUMN CALENDAR.CAL_NO IS '캘린더 번호';
COMMENT ON COLUMN CALENDAR.CAL_MEM_NO IS '회원 번호';
COMMENT ON COLUMN CALENDAR.CAL_TITLE IS '제목';
COMMENT ON COLUMN CALENDAR.CAL_CONTENT IS '내용';
COMMENT ON COLUMN CALENDAR.CAL_DATE IS '작성일자';

CREATE SEQUENCE SEQ_CAL_NO;

-- 테스트 일정 삽입
INSERT INTO CALENDAR (
    CAL_NO,
	CAL_MEM_NO,
	CAL_TITLE,
	CAL_CONTENT,
	CAL_DATE
) VALUES (
	SEQ_CAL_NO.NEXTVAL,
	'1',
	'예방 접종',
	'ㅇㅇ 예방 접종하는 날',
	DEFAULT
);

CREATE TABLE REPORT (
	REP_NO NUMBER,
	REP_MEM_NO NUMBER NOT NULL,
    REP_TARGET_MEM_NO NUMBER NOT NULL,
	REP_TYPE VARCHAR2(20) NOT NULL,
	REP_CONTENT VARCHAR2(4000) NOT NULL,
	REP_DATE DATE DEFAULT SYSDATE,
	REP_KEY NUMBER NOT NULL,
	REP_CATEGORY NUMBER NOT NULL,
	CONSTRAINT REP_NO_PK PRIMARY KEY(REP_NO),
	CONSTRAINT REP_MEM_NO_FK FOREIGN KEY(REP_MEM_NO) REFERENCES MEMBER(MEM_NO),
	CONSTRAINT REP_TARGET_MEM_NO_FK FOREIGN KEY(REP_TARGET_MEM_NO) REFERENCES MEMBER(MEM_NO)
);

COMMENT ON COLUMN REPORT.REP_NO IS '신고 번호';
COMMENT ON COLUMN REPORT.REP_MEM_NO IS '신고 회원 번호';
COMMENT ON COLUMN REPORT.REP_TARGET_MEM_NO IS '피신고 회원 번호';
COMMENT ON COLUMN REPORT.REP_TYPE IS '신고 이유(스팸/음란물/불법/유해/욕설/기타)';
COMMENT ON COLUMN REPORT.REP_CONTENT IS '내용';
COMMENT ON COLUMN REPORT.REP_DATE IS '신고 일자';
COMMENT ON COLUMN REPORT.REP_KEY IS '신고 게시물/리뷰/상품/댓글 번호';
COMMENT ON COLUMN REPORT.REP_CATEGORY IS '신고 타입(1.커뮤니티 게시글/2.커뮤티니 댓글/3.어디가지 리뷰/4.상품/5.상품리뷰)';

CREATE SEQUENCE SEQ_REP_NO;

-- 테스트 신고 삽입
INSERT INTO REPORT (
    REP_NO,
	REP_MEM_NO,
    REP_TARGET_MEM_NO,
	REP_TYPE,
	REP_CONTENT,
	REPORT_DATE,
	REP_KEY,
	REP_CATEGORY,
) VALUES (
	SEQ_REPORT_NO.NEXTVAL,
	'',
	'',
	'',
    '',
	DEFAULT,
	'',
	''
);

------------------------------------------------
-------------- PRODUCT_TEST 관련 테이블 -------------
------------------------------------------------
DROP TABLE PRODUCT;
CREATE TABLE PRODUCT (
	PRO_NO NUMBER NOT NULL,
	PRO_SEL_NO NUMBER NOT NULL,
	PRO_NAME VARCHAR2(100) NOT NULL,
    PRO_BRAND VARCHAR2(30) NOT NULL,
    PRO_CATEGORY1 VARCHAR2(30) NOT NULL,
    PRO_CATEGORY2 VARCHAR2(30) NOT NULL,
    PRO_TAG VARCHAR2(200) NOT NULL,
	PRO_IMG	VARCHAR2(1000) NOT NULL,
	PRO_QTY NUMBER	NOT NULL,
    PRO_OPRICE NUMBER NOT NULL,
    PRO_SPRICE NUMBER NOT NULL,
    PRO_DEL_FEE NUMBER NOT NULL,
    PRO_LTIME NUMBER NOT NULL,
    PRO_CONTENT VARCHAR2(4000) NOT NULL,
	PRO_RDATE DATE DEFAULT SYSDATE,
	PRO_STATUS VARCHAR2(1) DEFAULT 'Y' CHECK(PRO_STATUS IN('Y', 'N')),
	PRO_REP_COUNT NUMBER DEFAULT 0,
	CONSTRAINT PRO_NO_PK PRIMARY KEY(PRO_NO),
    CONSTRAINT PRO_SEL_NO_FK FOREIGN KEY(PRO_SEL_NO) REFERENCES MEMBER(MEM_NO)
);

COMMENT ON COLUMN PRODUCT.PRO_NO IS '상품 번호';
COMMENT ON COLUMN PRODUCT.PRO_SEL_NO IS '판매자 번호';
COMMENT ON COLUMN PRODUCT.PRO_NAME IS '상품명';
COMMENT ON COLUMN PRODUCT.PRO_BRAND IS '브랜드';
COMMENT ON COLUMN PRODUCT.PRO_CATEGORY1 IS '카테고리1';
COMMENT ON COLUMN PRODUCT.PRO_CATEGORY2 IS '카테고리2';
COMMENT ON COLUMN PRODUCT.PRO_TAG IS '태그';
COMMENT ON COLUMN PRODUCT.PRO_IMG IS '이미지';
COMMENT ON COLUMN PRODUCT.PRO_QTY IS '수량';
COMMENT ON COLUMN PRODUCT.PRO_PRICE IS '정상가';
COMMENT ON COLUMN PRODUCT.PRO_PRICE IS '판매가';
COMMENT ON COLUMN PRODUCT.PRO_DEL_FEE IS '배송비';
COMMENT ON COLUMN PRODUCT.PRO_LTIME IS '출고 소요 기간';
COMMENT ON COLUMN PRODUCT.PRO_CONTENT IS '상품 설명';
COMMENT ON COLUMN PRODUCT.PRO_RDATE IS '상품 등록일';
COMMENT ON COLUMN PRODUCT.PRO_STATUS IS '판매글 노출 여부(Y/N)';
COMMENT ON COLUMN PRODUCT.PRO_REP_COUNT IS '누적 신고수';

CREATE SEQUENCE SEQ_PRO_NO;

-- 상품 테스트값
INSERT INTO PRODUCT (
    PRO_NO,
    PRO_SEL_NO,
    PRO_NAME,
    PRO_BRAND,
    PRO_CATEGORY1,
    PRO_CATEGORY2,
    PRO_TAG,
    PRO_IMG,
    PRO_QTY,
    PRO_OPRICE,
    PRO_SPRICE,
    PRO_DEL_FEE,
    PRO_LTIME,
    PRO_CONTENT,
    PRO_RDATE,
    PRO_STATUS,
    PRO_REP_COUNT
) VALUES (
    SEQ_PRO_NO.NEXTVAL,
    1,
    '탐사 6free 강아지 사료 연어 레시피, 3kg',
    '탐사',
    '강아지',
    '사료/간식',
    '탐사, 사료, 강아지, 개',
    'dogfood.jpg',
    999,
    18000,
    14490,
    3000,
    1,
    '게시판 테스트',
    DEFAULT,
    DEFAULT,
    DEFAULT
);
commit;